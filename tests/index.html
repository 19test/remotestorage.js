<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="/remoteStorage.js"></script>
    <script>
      remoteStorage.clear();
      remoteStorage.setItem('a', 'b');
      var ret = remoteStorage.getItem('a');
      var len = remoteStorage.length;
      if(ret !=  'b') {
        alert('got back '+ret);
      }
      if(len != 1) {
        alert('len is not 1 but '+len);
      }
      remoteStorage.setItem('a', JSON.stringify({b:'c'}));
      var ret = remoteStorage.getItem('a');
      var len = remoteStorage.length;
      if(ret !=  JSON.stringify({b:'c'})) {
        alert('got back '+ret);
      }
      if(len != 1) {
        alert('len is not 1 but '+len);
      }
      remoteStorage.removeItem('a');
      var ret = remoteStorage.getItem('a');
      var len = remoteStorage.length;
      if(ret !=  null) {
        alert('ret is not null but '+ret);
      }
      if(len != 0) {
        alert('len is not 0 but '+len);
      }
      alert('done!');
    </script>
  </head>
  <body>
    running tests...
  </body>
</html>
